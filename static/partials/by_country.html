<div ng-controller="ByCountryController">
  <div ng-show="g.aggregate">

    <!-- The following always gives me headache -->
    <ul ng-repeat="(k, v) in g.aggregate" class="list-group">
      <li class="list-group-item">{{k}}</li>
      <ul ng-repeat="(k1, v1) in v" class="list-group-item">
        <li class="list-group-item">{{k1}}</li>
        <ul ng-repeat="(k2, v2) in v1" class="list-group-item expandable">
          <li ng-init="view = false" class="list-group-item"
              ng-click="view = !view">{{k2}}</li>
          <ul ng-repeat="inst in v2" ng-show="view"
              class="list-group-item">
            <li class="list-group-item">
              <a href="#/institutions/{{inst.eprintid}}">{{inst.title}}</a>
            </li>
          </ul>
        </ul>
      </ul>
    </ul>

  </div>
</div>
